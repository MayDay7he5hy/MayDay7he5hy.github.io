<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>SAP Crwaler | Gao's Galaxy</title><meta name="author" content="Jensen Gao"><meta name="copyright" content="Jensen Gao"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Crawler of SAP WikiBackground:​ In daily work on ServiceNow platform, our employees often need to check the documents in SAP wiki or stories on ServiceNow, when they have trouble with the processes or">
<meta property="og:type" content="article">
<meta property="og:title" content="SAP Crwaler">
<meta property="og:url" content="https://mayday7he5hy.github.io/2023/09/01/SAP-Crwaler/index.html">
<meta property="og:site_name" content="Gao&#39;s Galaxy">
<meta property="og:description" content="Crawler of SAP WikiBackground:​ In daily work on ServiceNow platform, our employees often need to check the documents in SAP wiki or stories on ServiceNow, when they have trouble with the processes or">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://mayday7he5hy.github.io/img/cat.png">
<meta property="article:published_time" content="2023-09-01T08:54:17.000Z">
<meta property="article:modified_time" content="2023-11-08T09:06:48.200Z">
<meta property="article:author" content="Jensen Gao">
<meta property="article:tag" content="SAP">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://mayday7he5hy.github.io/img/cat.png"><link rel="shortcut icon" href="/img/Jensen.png"><link rel="canonical" href="https://mayday7he5hy.github.io/2023/09/01/SAP-Crwaler/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Error',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'SAP Crwaler',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-11-08 17:06:48'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.0.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">Loading...</div></div></div><script>(()=>{
  const $loadingBox = document.getElementById('loading-box')
  const $body = document.body
  const preloader = {
    endLoading: () => {
      $body.style.overflow = ''
      $loadingBox.classList.add('loaded')
    },
    initLoading: () => {
      $body.style.overflow = 'hidden'
      $loadingBox.classList.remove('loaded')
    }
  }

  preloader.initLoading()
  window.addEventListener('load',() => { preloader.endLoading() })

  if (true) {
    document.addEventListener('pjax:send', () => { preloader.initLoading() })
    document.addEventListener('pjax:complete', () => { preloader.endLoading() })
  }
})()</script><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/cat.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">22</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">8</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">0</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/img/wallpaper.png')"><nav id="nav"><span id="blog-info"><a href="/" title="Gao's Galaxy"><span class="site-name">Gao's Galaxy</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">SAP Crwaler</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2023-09-01T08:54:17.000Z" title="Created 2023-09-01 16:54:17">2023-09-01</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2023-11-08T09:06:48.200Z" title="Updated 2023-11-08 17:06:48">2023-11-08</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="SAP Crwaler"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post Views:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="Crawler-of-SAP-Wiki"><a href="#Crawler-of-SAP-Wiki" class="headerlink" title="Crawler of SAP Wiki"></a>Crawler of SAP Wiki</h1><h3 id="Background"><a href="#Background" class="headerlink" title="Background:"></a><strong>Background</strong>:</h3><p>​ <em>In daily work on ServiceNow platform, our employees often need to check the documents in SAP wiki or stories on ServiceNow, when they have trouble with the processes or don’t know the operations exactly. But there are too many document and stories so that it’s too complex to find the target information.</em></p>
<p>​ <em>So we are going to develop a search engine to solve this pain point. And for the reason that we don’t have the database of SAP wiki, so we need to create a crawler to get the data. And the target wiki directory is:</em><a target="_blank" rel="noopener" href="https://wiki.wdf.sap.corp/wiki/pages/viewpage.action?pageId=2301363095">51. HCSM Documentation (internal) - SSI Support Application Landscape - Wiki@SAP</a></p>
<h3 id="Design-thought"><a href="#Design-thought" class="headerlink" title="Design thought:"></a><strong>Design thought</strong>:</h3><p>​ <strong>ALG</strong>: SAP wiki’s directory is a tree structure. The parent node contains many child nodes and many of these child nodes contain another batch of child nodes… So to get all of them, I choose depth-first algorithm. The crawler will traverse this tree and when current node has no child node, backtrack.</p>
<p>​ <strong>Crawler</strong>: Because of the network security issue, we can’t just send requests to get html source code. So we use <code>selenium</code> and <code>webdriver</code> to simulate browser operations. Therefore, when you run this program, there will be a browser started.</p>
<h3 id="Prerequisite-of-running"><a href="#Prerequisite-of-running" class="headerlink" title="Prerequisite of running:"></a><strong>Prerequisite of running</strong>:</h3><p><del>* modify the <code>exec_path</code> with your <code>chromedriver</code> ‘s path:</del></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># not used anymore</span></span><br><span class="line">exec_path = <span class="string">r&#x27;C:\Program Files\Google\Chrome\Application\chromedriver.exe&#x27;</span></span><br><span class="line">chrome = webdriver.Chrome(executable_path=exec_path)</span><br></pre></td></tr></table></figure>

<p>**NEW!**we use ChromeDriverManager().install() to install the chrome web driver automatedly.</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">service = Service(executable_path=ChromeDriverManager().install())</span><br><span class="line">chrome = webdriver.Chrome(service=service)</span><br></pre></td></tr></table></figure>

<ul>
<li>Make sure you are using SAP’s network</li>
</ul>
<p><strong>Running Result</strong>:</p>
<p>​ We will get the titles, content, URL of documents. And there will be a file named <code>WikiJson.json</code> generated in the same directory of this program. The content of this file may be like:</p>
<p><strong>NEW!</strong>: we will crawl all the documents from wiki.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="string">&quot;id&quot;</span>:<span class="number">0</span>, <span class="string">&quot;Title&quot;</span>:<span class="string">&quot;51.1 Customer&quot;</span>, <span class="string">&quot;Content&quot;</span>:<span class="string">&quot;51.1 Customer Page sections for this module Process / Product overview: Requirements, Solution blueprint, Architecture Implementation details User Interface: Agent Workspace, UI16, headers, field definitions, UI actions, UI policies, tabs and related lists, notifications, dashboards, lists, attachment handling, templates, actions plans, removed OOTB functions Process model: Workflow, status values, routing, scripts, business rules, data flow between tables in the same module, removed OOTB functions, SLA definitions Technical dependencies: Data pre-requisites, user roles and permissions Integrations: integrations to other processes / records, Roles and responsibilities: SME / contact person / team Process integrations: Related lists, data exchange and dependencies with other processes, workflow handovers Guidelines for Support &amp; Operations: Error handling / Troubleshooting, logging information Related feature and references: Feature number, attachments, further links, other KBAs for details&quot;</span>, <span class="string">&quot;URL&quot;</span>:<span class="string">&quot;https://wiki.wdf.sap.corp/wiki/display/wikissisal/51.1+Customer-facing+portal?src=sidebar&quot;</span>, <span class="string">&quot;Type&quot;</span>:<span class="string">&quot;wiki&quot;</span>&#125;</span><br></pre></td></tr></table></figure>

<p>​ But the data is not clean. There are some useless characters such as <code>&#39;&#39;</code>, <code>\xa0</code> and so on. When we post this data to ElasticSearch, these characters will cause error. So I use regular expressions to clean them.</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">title = re.findall(<span class="string">r&#x27;&quot;Title&quot;:&quot;(.*)&quot;, &quot;Content&quot;&#x27;</span>,line)[<span class="number">0</span>]</span><br><span class="line">title_new = title.replace(<span class="string">&#x27;&quot;&#x27;</span>,<span class="string">&quot;&#x27;&quot;</span>)</span><br><span class="line">content = re.findall(<span class="string">r&#x27;&quot;Content&quot;:&quot;(.*)&quot;, &quot;URL&#x27;</span>,line)[<span class="number">0</span>]</span><br><span class="line">content_new = content.replace(<span class="string">&#x27;&quot;&#x27;</span>,<span class="string">&quot; &quot;</span>).replace(<span class="string">&#x27;\xa0&#x27;</span>,<span class="string">&#x27; &#x27;</span>)</span><br></pre></td></tr></table></figure>

<h3 id="Other-Uses"><a href="#Other-Uses" class="headerlink" title="Other Uses:"></a><strong>Other Uses</strong>:</h3><p>​ This program can also get the data of other directories in SAP wiki. You only need to modify the root URL here:<br>    <code>chrome.get(&#39;https://wiki.wdf.sap.corp/wiki/pages/viewpage.action?pageId=2301363095&#39;)</code></p>
<h3 id="Data-Range"><a href="#Data-Range" class="headerlink" title="Data Range"></a>Data Range</h3><h4 id="1-Source-Data"><a href="#1-Source-Data" class="headerlink" title="1. Source Data"></a>1. Source Data</h4><p><strong>Story of PPM</strong> ：data structure of story.</p>
<table>
<thead>
<tr>
<th>No.</th>
<th>Elasticsearch Key Name</th>
<th>Field Name</th>
<th>Annotation</th>
</tr>
</thead>
<tbody><tr>
<td><strong>1</strong></td>
<td>sys_id</td>
<td>sys_id</td>
<td>primary key</td>
</tr>
<tr>
<td><strong>2</strong></td>
<td>number</td>
<td>number</td>
<td></td>
</tr>
<tr>
<td><strong>3</strong></td>
<td>description</td>
<td>description</td>
<td></td>
</tr>
<tr>
<td><strong>4</strong></td>
<td>short_description</td>
<td>short_description</td>
<td></td>
</tr>
<tr>
<td><strong>5</strong></td>
<td>u_update_set</td>
<td>u_update_set</td>
<td></td>
</tr>
<tr>
<td><strong>6</strong></td>
<td>task</td>
<td>acceptance_criteria</td>
<td></td>
</tr>
<tr>
<td><strong>7</strong></td>
<td>sn_safe_feature</td>
<td>feature</td>
<td></td>
</tr>
<tr>
<td><strong>8</strong></td>
<td>acceptance_criteria</td>
<td>acceptance_criteria</td>
<td></td>
</tr>
<tr>
<td><strong>9</strong></td>
<td>sys_updated_on</td>
<td>sys_updated_on</td>
<td></td>
</tr>
<tr>
<td><strong>10</strong></td>
<td>_index &#x3D; snowdata</td>
<td></td>
<td>name of index</td>
</tr>
<tr>
<td><strong>11</strong></td>
<td>_type &#x3D; doc</td>
<td></td>
<td>type of index</td>
</tr>
<tr>
<td><strong>12</strong></td>
<td>_id</td>
<td></td>
<td>id of index (self-defined)</td>
</tr>
<tr>
<td><strong>13</strong></td>
<td>url</td>
<td></td>
<td>link of a story</td>
</tr>
<tr>
<td><strong>14</strong></td>
<td>time</td>
<td></td>
<td>sorted by time order</td>
</tr>
<tr>
<td><strong>15</strong></td>
<td>Type &#x3D; snow</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><strong>Context of Wiki</strong>: all data under <a target="_blank" rel="noopener" href="https://wiki.one.int.sap/wiki/pages/viewpage.action?pageId=2301363095">51. HCSM Documentation (internal)</a></p>
<table>
<thead>
<tr>
<th>No.</th>
<th>Elasticsearch Key Name</th>
<th>Field Name</th>
<th>Annotation</th>
</tr>
</thead>
<tbody><tr>
<td><strong>1</strong></td>
<td>Title</td>
<td>Title</td>
<td>primary key</td>
</tr>
<tr>
<td><strong>2</strong></td>
<td>Content</td>
<td>Content</td>
<td></td>
</tr>
<tr>
<td><strong>3</strong></td>
<td>URL</td>
<td>URL</td>
<td>link of Wiki</td>
</tr>
<tr>
<td><strong>4</strong></td>
<td>_index &#x3D; wikidata</td>
<td></td>
<td>name of index</td>
</tr>
<tr>
<td><strong>5</strong></td>
<td>_type &#x3D; doc</td>
<td></td>
<td>type of index</td>
</tr>
<tr>
<td><strong>6</strong></td>
<td>_id</td>
<td></td>
<td>id of index (self-defined)</td>
</tr>
<tr>
<td><strong>15</strong></td>
<td>Type</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h1 id="Updated-on-12-11-2023"><a href="#Updated-on-12-11-2023" class="headerlink" title="Updated on 12&#x2F;11&#x2F;2023:"></a>Updated on 12&#x2F;11&#x2F;2023:</h1><ul>
<li>I uploaded the python files that used for uploading data to Elasticsearch.(readJson_wiki.py, readJson_snow.py)</li>
<li><strong>The ServiceNow data can be downloaded though the ServiceNow web page.</strong>(<a target="_blank" rel="noopener" href="https://sapppm.service-now.com/nav_to.do?uri=/sn_safe_story_list.do?sysparm_query=stateIN3%255Eassignment_group%253Dff3c91d1dbf9c090e5cd4cb11596197e%255EORassignment_group%253Dd9881444dbb50c5020627d78f49619bc%255EORassignment_group%253Deb3c2134dbfedc10fd0ee03cd39619cb&sysparm_first_row=1&sysparm_view=scrum">https://sapppm.service-now.com/nav_to.do?uri=%2Fsn_safe_story_list.do%3Fsysparm_query%3DstateIN3%255Eassignment_group%253Dff3c91d1dbf9c090e5cd4cb11596197e%255EORassignment_group%253Dd9881444dbb50c5020627d78f49619bc%255EORassignment_group%253Deb3c2134dbfedc10fd0ee03cd39619cb%26sysparm_first_row%3D1%26sysparm_view%3Dscrum</a>)</li>
</ul>
<h4 id="selenium-Method-Update-Notice"><a href="#selenium-Method-Update-Notice" class="headerlink" title="selenium Method Update Notice"></a>selenium Method Update Notice</h4><p>As selenium has abandoned some methods that can be used in the past. We changed those outdated function into new versions.</p>
<h5 id="1-Update-of-the-startup-method"><a href="#1-Update-of-the-startup-method" class="headerlink" title="1. Update of the startup method"></a>1. <strong>Update of the startup method</strong></h5><p>Methods Used in the past:</p>
<p>In line 6, <code>webdriver.Chrome() </code> can get the chromedriver.exe directly by its address.</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line">exec_path = <span class="string">r&#x27;C:\Program Files\Google\Chrome\Application\chromedriver.exe&#x27;</span> <span class="comment"># address of your chormedriver</span></span><br><span class="line">chrome = webdriver.Chrome(executable_path=exec_path)</span><br><span class="line">chrome.get(<span class="string">&#x27;https://wiki.wdf.sap.corp/wiki/pages/viewpage.action?pageId=2301363095&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>Methods Available now:</p>
<p>In line 6, <code>webdriver.Chrome()</code> need to accept a Service Object, which we can get it in line 5.</p>
<p>Notice: package we have to import is <code>selenium.webdriver.chrome.service</code> not <code>selenium.webdriver.common.service</code></p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium.webdriver.chrome.service <span class="keyword">import</span> Service</span><br><span class="line">exec_path = <span class="string">r&#x27;C:\Program Files\Google\Chrome\Application\chromedriver.exe&#x27;</span></span><br><span class="line">service = Service(exec_path)</span><br><span class="line">chrome = webdriver.Chrome(service=service)</span><br><span class="line">chrome.get(<span class="string">&#x27;https://wiki.wdf.sap.corp/wiki/pages/viewpage.action?pageId=2301363095&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h5 id="2-Update-of-searching-methods"><a href="#2-Update-of-searching-methods" class="headerlink" title="2. Update of searching methods"></a>2. <strong>Update of searching methods</strong></h5><p>You shoud first import <code>from selenium.webdriver.common.by import By</code>, and use the function that available now.</p>
<p>PAST:<br>   <code> chrome.find_elements_by_xxx(XXX)</code><br>    <code>chrome.find_element_by_xxx(XXX)</code></p>
<p>NOW<br>    <code>chrome.find_element(by=By.XXX, value=XXX)     chrome.find_elements(by=By.XXX, value=XXX)</code></p>
<p>EXAMPLES</p>
<p>PAST：<code>chrome.find_elements_by_xpath(xpath = XXX)</code></p>
<p>NOW：<code>chrome.find_elements(by=By.XPATH, value=XXX)</code></p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>Author: </span><span class="post-copyright-info"><a href="https://MayDay7he5hy.github.io">Jensen Gao</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>Link: </span><span class="post-copyright-info"><a href="https://mayday7he5hy.github.io/2023/09/01/SAP-Crwaler/">https://mayday7he5hy.github.io/2023/09/01/SAP-Crwaler/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/SAP/">SAP</a></div><div class="post_share"><div class="social-share" data-image="/img/cat.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/09/07/SAP-Intelligence-Tasks/" title="SAP Intelligence Tasks"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">Previous</div><div class="prev_info">SAP Intelligence Tasks</div></div></a></div><div class="next-post pull-right"><a href="/2023/07/15/What-I-ve-learned-in-TongJi/" title="What I've learned in TongJi "><img class="cover" src="https://picdm.sunbangyan.cn/2023/11/02/4ad31a3e01c20e6138bd8377dace10b1.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">Next</div><div class="next_info">What I've learned in TongJi </div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><div><a href="/2023/09/07/SAP-Intelligence-Tasks/" title="SAP Intelligence Tasks"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-09-07</div><div class="title">SAP Intelligence Tasks</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/cat.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Jensen Gao</div><div class="author-info__description">Software Engineering student at Tongji University with dreams of pursuing a Master's in the U.S</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">22</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">8</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/MayDay7he5hy"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/MayDay7he5hy" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="/gaojuncheng020505@163.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">Welcome to my digital space! I'm thrilled you've stopped by. Here, you'll find a collection of my thoughts, stories, and insights, all curated with the hope of resonating with you.</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Contents</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Crawler-of-SAP-Wiki"><span class="toc-number">1.</span> <span class="toc-text">Crawler of SAP Wiki</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Background"><span class="toc-number">1.0.1.</span> <span class="toc-text">Background:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Design-thought"><span class="toc-number">1.0.2.</span> <span class="toc-text">Design thought:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Prerequisite-of-running"><span class="toc-number">1.0.3.</span> <span class="toc-text">Prerequisite of running:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Other-Uses"><span class="toc-number">1.0.4.</span> <span class="toc-text">Other Uses:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Data-Range"><span class="toc-number">1.0.5.</span> <span class="toc-text">Data Range</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-Source-Data"><span class="toc-number">1.0.5.1.</span> <span class="toc-text">1. Source Data</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Updated-on-12-11-2023"><span class="toc-number">2.</span> <span class="toc-text">Updated on 12&#x2F;11&#x2F;2023:</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#selenium-Method-Update-Notice"><span class="toc-number">2.0.0.1.</span> <span class="toc-text">selenium Method Update Notice</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-Update-of-the-startup-method"><span class="toc-number">2.0.0.1.1.</span> <span class="toc-text">1. Update of the startup method</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-Update-of-searching-methods"><span class="toc-number">2.0.0.1.2.</span> <span class="toc-text">2. Update of searching methods</span></a></li></ol></li></ol></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/11/15/LlamaIndex-%E8%AE%A9GPT%E5%AD%A6%E4%B9%A0%E7%A7%81%E6%9C%89%E7%9F%A5%E8%AF%86/" title="LlamaIndex:让GPT学习私有知识 "><img src="https://picst.sunbangyan.cn/2023/11/13/596bd1df3f12eb3f3e60115db0f25b0f.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="LlamaIndex:让GPT学习私有知识 "/></a><div class="content"><a class="title" href="/2023/11/15/LlamaIndex-%E8%AE%A9GPT%E5%AD%A6%E4%B9%A0%E7%A7%81%E6%9C%89%E7%9F%A5%E8%AF%86/" title="LlamaIndex:让GPT学习私有知识 ">LlamaIndex:让GPT学习私有知识 </a><time datetime="2023-11-15T08:32:34.000Z" title="Created 2023-11-15 16:32:34">2023-11-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/11/13/ChatGPT-Update/" title="ChatGPT Update"><img src="https://picst.sunbangyan.cn/2023/11/13/0f5604f5cf1333b39e73767ed975262e.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ChatGPT Update"/></a><div class="content"><a class="title" href="/2023/11/13/ChatGPT-Update/" title="ChatGPT Update">ChatGPT Update</a><time datetime="2023-11-13T03:03:25.000Z" title="Created 2023-11-13 11:03:25">2023-11-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/11/10/k8s%E5%88%9D%E4%BD%93%E9%AA%8C-minikube%E7%AA%81%E7%A0%B4%E9%9A%94%E6%96%AD%E8%AE%BF%E9%97%AE%E9%99%90%E5%88%B6/" title="k8s初体验-minikube突破隔断访问限制(以nginx为例)"><img src="https://luckyblob.oss-cn-shanghai.aliyuncs.com/postimgs/image-20230310101006602.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="k8s初体验-minikube突破隔断访问限制(以nginx为例)"/></a><div class="content"><a class="title" href="/2023/11/10/k8s%E5%88%9D%E4%BD%93%E9%AA%8C-minikube%E7%AA%81%E7%A0%B4%E9%9A%94%E6%96%AD%E8%AE%BF%E9%97%AE%E9%99%90%E5%88%B6/" title="k8s初体验-minikube突破隔断访问限制(以nginx为例)">k8s初体验-minikube突破隔断访问限制(以nginx为例)</a><time datetime="2023-11-10T01:08:25.000Z" title="Created 2023-11-10 09:08:25">2023-11-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/11/09/k8s%E5%88%9D%E4%BD%93%E9%AA%8C-nginx-pod-%E9%83%A8%E7%BD%B2%E5%B9%B6%E8%AE%BF%E9%97%AE/" title="k8s初体验---nginx(pod)部署并访问"><img src="https://luckyblob.oss-cn-shanghai.aliyuncs.com/postimgs/image-20230115202715679.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="k8s初体验---nginx(pod)部署并访问"/></a><div class="content"><a class="title" href="/2023/11/09/k8s%E5%88%9D%E4%BD%93%E9%AA%8C-nginx-pod-%E9%83%A8%E7%BD%B2%E5%B9%B6%E8%AE%BF%E9%97%AE/" title="k8s初体验---nginx(pod)部署并访问">k8s初体验---nginx(pod)部署并访问</a><time datetime="2023-11-09T10:26:19.000Z" title="Created 2023-11-09 18:26:19">2023-11-09</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/11/09/ChatGPT-%E6%A1%8C%E9%9D%A2%E7%89%88%E4%BD%BF%E7%94%A8/" title="ChatGPT 桌面版使用"><img src="https://picss.sunbangyan.cn/2023/11/09/1c626f70315f6c390033c0d24bbca7fc.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ChatGPT 桌面版使用"/></a><div class="content"><a class="title" href="/2023/11/09/ChatGPT-%E6%A1%8C%E9%9D%A2%E7%89%88%E4%BD%BF%E7%94%A8/" title="ChatGPT 桌面版使用">ChatGPT 桌面版使用</a><time datetime="2023-11-09T07:41:49.000Z" title="Created 2023-11-09 15:41:49">2023-11-09</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('/img/wallpaper.png')"><div id="footer-wrap"><div class="copyright">&copy;2022 - 2023 By Jensen Gao</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Hi, welcome to Jensen's <a target="_blank" rel="noopener" href="https://butterfly.js.org/">blog</a>!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Toggle Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><div class="aplayer no-destroy" data-id="60198" data-server="netease" data-type="playlist" data-listmaxheight="340px" data-fixed="true" data-autoplay="true"> </div><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/fireworks.min.js"></script><script defer="defer" id="fluttering_ribbon" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-fluttering-ribbon.min.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener
  btf.removeGlobalFnEvent('pjax')
  btf.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>